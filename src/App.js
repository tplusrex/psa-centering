import React, { useState } from 'react';
import logo from './psa-logo.png';
import './App.css';

function divider(first, second) {
  if (first > 35 || second > 35) {
    return divider(Math.floor((first / 2) < 1 ? 1 : (first / 2)), Math.floor((second / 2) < 1 ? 1 : (second / 2)));
  }

  return [first, second];
}

function App() {
  const [firstValue, setFirstValue] = useState(1);
  const [secondValue, setSecondValue] = useState(1);

  const data = [
    [50, 33, 25, 20, 17, 14, 13, 11, 10, 9, 8, 8, 7, 7, 6, 6, 6, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3],
    [67, 50, 40, 33, 29, 25, 22, 20, 18, 17, 15, 14, 13, 13, 12, 11, 11, 10, 10, 9, 9, 8, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 5],
    [75, 60, 50, 43, 38, 33, 30, 27, 25, 23, 21, 20, 19, 18, 17, 16, 15, 14, 14, 13, 13, 12, 12, 11, 11, 10, 10, 10, 9, 9, 9, 8, 8, 8],
    [80, 67, 57, 50, 44, 40, 36, 33, 31, 29, 27, 25, 24, 22, 21, 20, 19, 18, 17, 17, 16, 15, 15, 14, 14, 13, 13, 13, 12, 12, 11, 11, 11, 11, 10],
    [83, 71, 63, 56, 50, 45, 42, 38, 36, 33, 31, 29, 28, 26, 25, 24, 23, 22, 21, 20, 19, 19, 18, 17, 17, 16, 16, 15, 15, 14, 14, 14, 13, 13, 13],
    [86, 75, 67, 60, 55, 50, 46, 43, 40, 38, 35, 33, 32, 30, 29, 27, 26, 25, 24, 23, 22, 21, 21, 20, 19, 19, 18, 18, 17, 17, 16, 16, 15, 15, 15],
    [88, 79, 70, 64, 58, 54, 50, 47, 44, 41, 39, 37, 35, 33, 32, 30, 29, 28, 27, 26, 25, 24, 23, 23, 22, 21, 21, 20, 19, 19, 18, 18, 18, 17, 17],
    [89, 80, 73, 67, 62, 57, 53, 50, 47, 44, 42, 40, 38, 36, 35, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 24, 23, 22, 22, 21, 21, 20, 20, 19, 19],
    [90, 82, 75, 69, 64, 60, 56, 53, 50, 47, 45, 43, 41, 39, 38, 36, 35, 33, 32, 31, 30, 29, 28, 27, 26, 26, 25, 24, 24, 23, 23, 22, 21, 21, 20],
    [91, 83, 77, 71, 67, 63, 59, 56, 53, 50, 48, 45, 43, 42, 40, 38, 37, 36, 34, 33, 32, 31, 30, 29, 29, 28, 27, 26, 26, 25, 24, 24, 23, 23, 22],
    [92, 85, 79, 73, 69, 65, 61, 58, 55, 52, 50, 48, 46, 44, 42, 41, 39, 38, 37, 35, 34, 33, 32, 31, 31, 30, 29, 28, 28, 27, 26, 26, 25, 24, 24],
    [93, 86, 80, 75, 71, 67, 63, 60, 57, 55, 52, 50, 48, 46, 44, 43, 41, 40, 39, 38, 36, 35, 34, 33, 32, 32, 31, 30, 29, 29, 28, 27, 27, 26, 26],
    [93, 87, 81, 76, 72, 68, 65, 62, 59, 57, 54, 52, 50, 48, 46, 45, 43, 42, 41, 39, 38, 37, 36, 35, 34, 33, 33, 32, 31, 30, 30, 29, 28, 28, 27],
    [94, 88, 82, 78, 74, 70, 67, 64, 61, 58, 56, 54, 52, 50, 48, 47, 45, 44, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 33, 32, 31, 30, 30, 29, 29],
    [94, 88, 83, 79, 75, 71, 68, 65, 63, 60, 58, 56, 54, 52, 50, 48, 47, 45, 44, 43, 42, 41, 39, 38, 38, 37, 36, 35, 34, 33, 33, 32, 31, 31, 30],
    [94, 89, 84, 80, 76, 73, 70, 67, 64, 62, 59, 57, 55, 53, 52, 50, 48, 47, 46, 44, 43, 42, 41, 40, 39, 38, 37, 36, 36, 35, 34, 33, 33, 32, 31],
    [95, 89, 85, 81, 77, 74, 71, 68, 65, 63, 61, 59, 57, 55, 53, 52, 50, 49, 47, 45, 45, 44, 43, 41, 40, 40, 39, 38, 37, 36, 35, 35, 34, 33, 33],
    [95, 90, 86, 82, 78, 75, 72, 69, 67, 64, 62, 60, 58, 56, 55, 53, 51, 50, 49, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 38, 37, 36, 35, 35, 34],
    [95, 90, 86, 83, 79, 76, 73, 70, 68, 66, 63, 61, 59, 58, 56, 54, 53, 51, 50, 49, 48, 46, 45, 44, 43, 42, 41, 40, 40, 39, 38, 37, 37, 36, 35],
    [96, 91, 87, 83, 80, 77, 74, 71, 69, 67, 65, 63, 61, 59, 57, 56, 54, 53, 51, 50, 49, 48, 47, 45, 44, 43, 43, 42, 41, 40, 39, 38, 38, 37, 36],
    [96, 91, 88, 84, 81, 78, 75, 72, 70, 68, 66, 64, 62, 60, 58, 57, 55, 54, 53, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 40, 39, 38, 38],
    [96, 92, 88, 85, 81, 79, 76, 73, 71, 69, 67, 65, 63, 61, 59, 58, 56, 55, 54, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 42, 41, 40, 39, 39],
    [96, 92, 88, 85, 82, 79, 77, 74, 72, 70, 68, 66, 64, 62, 61, 59, 58, 56, 55, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 43, 42, 41, 40, 40],
    [96, 92, 89, 86, 82, 80, 77, 75, 73, 71, 69, 67, 65, 63, 62, 60, 59, 57, 56, 55, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 44, 43, 42, 41, 41],
    [96, 93, 89, 86, 83, 81, 78, 76, 74, 71, 69, 68, 65, 64, 63, 61, 60, 58, 57, 56, 52, 53, 52, 51, 50, 49, 48, 47, 46, 45, 45, 44, 43, 42, 42],
    [97, 93, 90, 87, 84, 81, 79, 76, 74, 72, 70, 68, 67, 65, 63, 62, 60, 59, 58, 57, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 46, 45, 44, 43, 43],
    [97, 93, 90, 87, 84, 82, 79, 77, 75, 73, 71, 69, 68, 66, 64, 63, 61, 60, 59, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 47, 46, 45, 44, 44],
    [97, 93, 90, 88, 85, 82, 80, 78, 76, 74, 72, 70, 68, 67, 65, 64, 62, 61, 60, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 47, 46, 45, 44],
    [97, 94, 91, 88, 85, 83, 81, 78, 76, 74, 73, 71, 69, 67, 66, 64, 63, 62, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 48, 47, 46, 45],
    [97, 94, 91, 88, 86, 83, 81, 79, 77, 75, 73, 71, 70, 68, 67, 65, 64, 63, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 48, 47, 46],
    [97, 94, 91, 89, 86, 84, 82, 79, 78, 76, 74, 72, 70, 69, 67, 66, 65, 63, 62, 61, 60, 58, 57, 56, 55, 54, 53, 53, 52, 51, 50, 49, 48, 48, 47],
    [97, 94, 91, 89, 86, 84, 82, 80, 78, 76, 74, 73, 71, 70, 68, 67, 65, 64, 63, 62, 60, 59, 58, 57, 56, 55, 54, 53, 52, 52, 51, 50, 49, 48, 48],
    [97, 94, 92, 89, 87, 85, 83, 80, 79, 77, 75, 73, 72, 70, 69, 67, 66, 65, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 52, 51, 50, 49, 49],
    [97, 94, 92, 89, 87, 85, 83, 81, 79, 77, 76, 74, 72, 71, 69, 68, 67, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 52, 51, 50, 49],
    [97, 95, 92, 90, 88, 85, 83, 81, 80, 78, 76, 74, 73, 71, 70, 69, 67, 66, 65, 64, 63, 61, 60, 59, 58, 57, 56, 56, 55, 54, 53, 52, 51, 51, 50]
  ];

  let position = [firstValue, secondValue];

  if (firstValue > 35 || secondValue > 35) {
    position = divider(firstValue, secondValue);
  }

  return (
    <div className="App">
      <main>
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <p>
            Centering Calculator
          </p>
        </header>
        <form>
          <label>
            Side A <input type="number" value={firstValue} onChange={e => setFirstValue(e.target.value)} />
          </label>
          <label>
            Side B <input type="number" value={secondValue} onChange={e => setSecondValue(e.target.value)} />
          </label>
        </form>
        <section>
          {/* <h3>Centering: {(firstValue > 0 && secondValue > 0 && data[firstValue - 1][secondValue - 1]) && <span>{data[firstValue - 1][secondValue - 1]}</span>}</h3> */}
          <h3>Grade 
            {data[position[0] - 1] && data[position[0] - 1][position[1] - 1] &&
            <>              
              {(data[position[0] - 1][position[1] - 1] >= 45 && data[position[0] - 1][position[1] - 1] <= 55) &&
                <span>10</span>
              }
              {((data[position[0] - 1][position[1] - 1] >= 56 
              && data[position[0] - 1][position[1] - 1] <= 60)
              || (data[position[0] - 1][position[1] - 1] <= 44
              && data[position[0] - 1][position[1] - 1] >= 40)) &&
                <span>9</span>
              }
              {((data[position[0] - 1][position[1] - 1] >= 61 
              && data[position[0] - 1][position[1] - 1] <= 66)
              || (data[position[0] - 1][position[1] - 1] <= 39
              && data[position[0] - 1][position[1] - 1] >= 34)) &&
                <span>8</span>
              }
              {((data[position[0] - 1][position[1] - 1] >= 67 
              && data[position[0] - 1][position[1] - 1] <= 72)
              || (data[position[0] - 1][position[1] - 1] <= 33
              && data[position[0] - 1][position[1] - 1] >= 28)) &&
                <span>7</span>
              }
              {((data[position[0] - 1][position[1] - 1] >= 73 
              && data[position[0] - 1][position[1] - 1] <= 79)
              || (data[position[0] - 1][position[1] - 1] <= 27
              && data[position[0] - 1][position[1] - 1] >= 21)) &&
                <span>6</span>
              }
              {((data[position[0] - 1][position[1] - 1] >= 80 
              && data[position[0] - 1][position[1] - 1] <= 85)
              || (data[position[0] - 1][position[1] - 1] <= 20
              && data[position[0] - 1][position[1] - 1] >= 15)) &&
                <span>5</span>
              }
              {((data[position[0] - 1][position[1] - 1] >= 86 
              && data[position[0] - 1][position[1] - 1] <= 90)
              || (data[position[0] - 1][position[1] - 1] <= 14
              && data[position[0] - 1][position[1] - 1] >= 10)) &&
                <span>4</span>
              }
              {((data[position[0] - 1][position[1] - 1] >= 91 
              && data[position[0] - 1][position[1] - 1] <= 97)
              || (data[position[0] - 1][position[1] - 1] <= 9
              && data[position[0] - 1][position[1] - 1] >= 0)) &&
                <span>3</span>
              }
            </>
            }
          </h3>
        </section>
      </main>
    </div>
  );
}

export default App;
